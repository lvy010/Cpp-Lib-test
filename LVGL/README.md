# LVGL 开发示例集合

这是一个全面的 LVGL (Light and Versatile Graphics Library) 学习和测试项目，包含多个模块化示例，展示了 LVGL 图形界面库的核心功能和高级特性。

## 🎯 项目概述

LVGL 是一个开源的嵌入式图形库，提供了丰富的图形组件、流畅的动画效果和强大的样式系统。本项目通过多个实用示例展示了 LVGL 的各个方面。

## 📁 项目结构

```
LVGL/
├── README.md                    # 项目总览文档
├── main.c                       # 主程序入口（样式测试）
├── styles.c                     # 样式定义和界面创建
├── simple_test.c               # 简化版样式测试（无依赖）
├── lvgl_app.c                  # 完整应用程序示例
├── Makefile                    # 主编译配置
├── Makefile.simple            # 简化版编译配置
├── Makefile.lvgl_app          # 应用程序编译配置
├── lvgl/                      # LVGL 库文件夹
├── indev/                     # 输入设备系统示例
│   ├── lv_indev.h            # 输入设备头文件
│   ├── lv_indev.c            # 输入设备实现
│   ├── Makefile              # 输入设备编译配置
│   └── README.md             # 输入设备详细说明
└── event_bubble_test/         # 事件冒泡测试
    ├── main.c                # 事件测试主程序
    ├── Makefile              # 事件测试编译配置
    └── bubble_demo           # 编译后的可执行文件
```

## 🚀 核心功能模块

### 1. 样式系统演示 (`main.c` + `styles.c`)
- **基础样式**: 蓝色按钮样式，10px 圆角
- **状态样式**: 按压状态深蓝色反馈
- **层叠样式**: 红色变体按钮示例
- **部件样式**: 滑块红色圆形旋钮定制
- **本地样式**: 橙色按钮直接属性设置
- **全局样式**: 字体和颜色继承机制

### 2. 简化测试程序 (`simple_test.c`)
- 无外部依赖的纯 C 实现
- 模拟 LVGL 样式结构和函数
- 适合理解 LVGL 工作原理
- 控制台输出测试结果

### 3. 完整应用程序 (`lvgl_app.c`)
- 完整的 LVGL 初始化流程
- 显示驱动配置和缓冲区管理
- 模拟显示刷新回调机制
- 复杂界面组件演示

### 4. 输入设备系统 (`indev/`)
- 输入设备核心架构实现
- 支持多种输入类型（触摸、鼠标、键盘、编码器）
- 事件驱动的输入处理机制
- 设备状态管理和数据流处理

### 5. 事件冒泡测试 (`event_bubble_test/`)
- GUI 事件系统测试
- 事件传播和处理机制
- 交互式事件响应演示

## ⚡ 快速开始

### 环境要求
- GCC 编译器
- C99 标准支持
- LVGL 开发库（可选，部分示例可独立运行）

### 安装依赖 (Ubuntu/Debian)
```bash
# 安装基础依赖
sudo apt update
sudo apt install -y build-essential

# 安装 LVGL 开发库（可选）
sudo apt install -y liblvgl-dev
```

### 编译运行

#### 1. 完整样式测试（需要 LVGL 库）
```bash
make                    # 编译样式测试程序
make run               # 运行测试
```

#### 2. 简化版测试（无外部依赖）
```bash
make -f Makefile.simple      # 编译简化版
make -f Makefile.simple run  # 运行简化版测试
```

#### 3. 完整应用程序
```bash
make -f Makefile.lvgl_app     # 编译应用程序
```

#### 4. 输入设备测试
```bash
cd indev/
make                    # 编译输入设备测试
```

#### 5. 事件冒泡测试
```bash
cd event_bubble_test/
make                    # 编译事件测试
./bubble_demo          # 运行事件演示
```

## 🎨 样式系统特性

### 样式层次结构
1. **全局样式**: 应用于所有组件的默认样式
2. **主题样式**: 组件类型的默认样式  
3. **本地样式**: 单个组件的自定义样式
4. **状态样式**: 特定状态下的样式覆盖

### 支持的样式属性
- 🎨 **颜色**: 背景色、文本色、边框色
- 📐 **尺寸**: 宽度、高度、边距、内边距
- 🔲 **形状**: 圆角、边框、阴影
- 📝 **文本**: 字体、对齐、装饰
- ✨ **效果**: 透明度、渐变、动画

## 🔧 输入设备支持

- **指针设备**: 触摸屏、鼠标
- **键盘输入**: 物理键盘、虚拟键盘
- **编码器**: 旋转编码器、滚轮
- **按钮**: 物理按钮、触摸按钮

## 📊 性能特性

- 🚀 **高效渲染**: 部分刷新和脏区域管理
- 💾 **内存优化**: 智能缓冲区管理
- ⚡ **响应迅速**: 事件驱动架构
- 🔄 **流畅动画**: 硬件加速支持

## 🛠️ 开发工具

### Makefile 目标
```bash
make all              # 编译所有目标
make clean            # 清理编译文件
make run              # 运行程序
make install-deps     # 安装依赖包
```

### 调试选项
- 控制台调试输出
- 内存使用监控
- 性能分析工具
- 事件跟踪日志

## 🔍 学习路径

1. **入门**: 从 `simple_test.c` 开始理解基本概念
2. **样式**: 学习 `styles.c` 中的样式系统
3. **应用**: 研究 `lvgl_app.c` 的完整应用结构
4. **输入**: 掌握 `indev/` 中的输入处理机制
5. **事件**: 理解 `event_bubble_test/` 的事件系统

## 📚 扩展应用

- 嵌入式设备界面开发
- 工业控制面板
- 智能家居控制界面
- 汽车仪表盘系统
- 医疗设备界面

## 🤝 贡献指南

欢迎提交改进建议和新的示例：
1. Fork 项目并创建特性分支
2. 添加新的测试用例或改进现有代码
3. 确保代码符合项目规范
4. 提交 Pull Request

## 📖 参考资源

- [LVGL 官方文档](https://docs.lvgl.io/)
- [LVGL GitHub 仓库](https://github.com/lvgl/lvgl)
- [样式系统指南](https://docs.lvgl.io/master/overview/style.html)
- [输入设备文档](https://docs.lvgl.io/master/porting/indev.html)

## 📄 许可证

本项目遵循 MIT 许可证。LVGL 库本身采用 MIT 许可证。

---

**注意**: 部分示例在模拟环境中运行，实际嵌入式应用需要配置相应的硬件驱动程序。 