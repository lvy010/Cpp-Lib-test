# XRDP 客户端优化建议

## 已完成的服务器端优化

✅ **加密级别降低**：从 `high` 改为 `medium`，减少CPU负担
✅ **TCP缓冲区优化**：发送/接收缓冲区调整为1MB，平衡性能和稳定性
✅ **会话管理**：启用空闲超时（30分钟）和断开连接清理（5分钟）
✅ **系统网络参数**：启用BBR拥塞控制，优化TCP缓冲区

## 客户端优化建议

### 1. 远程桌面客户端设置

#### Windows 远程桌面连接
- **显示**：降低分辨率到1280x720或更低
- **性能**：选择"LAN（10Mbps或更高）"
- **体验**：
  - ✅ 启用"桌面背景"
  - ✅ 启用"字体平滑"
  - ❌ 禁用"桌面组合"
  - ❌ 禁用"视觉样式"
  - ❌ 禁用"菜单和窗口动画"

#### Linux 客户端（如Remmina）
- **质量**：选择"中等"或"低"
- **颜色深度**：选择16位或24位
- **网络**：启用"网络优化"

### 2. 网络优化

#### 检查网络延迟
```bash
# 在客户端执行
ping [服务器IP] -c 10
traceroute [服务器IP]
```

#### 网络质量要求
- **延迟**：< 50ms（理想），< 100ms（可接受）
- **带宽**：> 5Mbps（基本），> 10Mbps（流畅）
- **丢包率**：< 1%

### 3. 客户端系统优化

#### Windows
- 关闭不必要的后台程序
- 禁用视觉效果
- 使用有线网络连接

#### Linux
- 关闭合成器（如KWin、Mutter）
- 使用轻量级桌面环境
- 关闭不必要的服务

### 4. 故障排除

#### 如果仍然卡顿
1. **检查网络**：使用 `ping` 和 `traceroute`
2. **降低分辨率**：尝试更低的分辨率
3. **关闭特效**：禁用所有视觉效果
4. **检查防火墙**：确保端口3389开放
5. **重启服务**：在服务器端重启xrdp

#### 性能监控
```bash
# 服务器端监控
top
htop
iotop
nethogs
```

## 联系支持

如果问题持续存在，请提供：
- 客户端操作系统和版本
- 网络环境（家庭/办公室/云服务器）
- 具体卡顿现象描述
- 网络延迟测试结果
